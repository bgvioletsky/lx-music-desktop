name: test
on:
  # push:
  #   branches:
  #     - master
  schedule:
    - cron: 0 17 * * 5
  workflow_dispatch:
      inputs:
        environment:
          description: '版本号'
          required: true
          default: 0.0.1
        platform:
          description: '平台类型'
          required: true
          default: 'Linux'
        build_type:
          description: '构建类型'
          required: false
          default: 'Release'
    
env:
    IS_CI: 'true'
jobs:
    Windows:
        name: Windows
        runs-on: windows-latest
        env:
          NPM_CACHE: '%APPDATA%\npm-cache'
        steps:
          - name: Check out git repository
            uses: actions/checkout@v4
    
          - name: Set version
            shell: pwsh
            run: |
              $newVersion = .\version.sh
              echo "version=${{ github.event.inputs.environment }}" >> $env:GITHUB_ENV
              # echo "version=$newVersion" >> $env:GITHUB_ENV

          - name: show version
            run: |
              echo "version=${{ env.version }}"

             
              
